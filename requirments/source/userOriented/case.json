[
  { "name": "登陆控制程序",
    "user": ["普通用户"],
    "scene":[
      "用户位于任何位置, 使用 ``手机`` 或 ``计算机`` 访问控制程序。",
      "程序弹出登陆页面，并检查用户是否曾经选择保存账号或密码，如果保存,则直接使用保存的账号和密码进行鉴权;",
      "否则，提示用户输入账号和密码后进行鉴权。",
      "登陆成功后，用户应该看到程序跳转到了控制程序主页面。"
    ],
    "prerequisites":[],
    "exception": [
        ["无法登陆","服务器未响应","使用文字提示网络错误"],
        ["无法登陆","账号或密码错误","使用文字提示登陆信息错误"]
    ],
    "mobileGUI":[
        { 
            "pageName":"login",
            "subPage":["login_passwordError","login_serverError"]
        }
    ]
  },

  { "name": "概览系统情况",
    "user": ["普通用户"],
    "scene":[
      "用户位于控制程序主页面。",
      "用户浏览主页面获取当前系统的运行状况，信息包括\n",
      "1. 系统的工作状态 ",
      "2. 当前未处理报警 \n",
      "主页拥有导航至其他页面按钮，其他页面包括\n",
      "1. ``监控数据`` ",
      "2. ``历史事件`` ",
      "3. ``管理设备`` ",
      "4. ``操作执行器`` ",
      "5. ``用户详情`` \n"
    ],
    "prerequisites":["登陆控制程序"],
    "exception": [ 
      ["无法登陆","服务器未响应","使用文字提示网络错误"]
    ],
    "mobileGUI":[
        {
        "pageName":"home",
        "subPage":[
            {
                "pageName":"todo",
                "subPage":[]
            },
            {
                "pageName":"monitorData",
                "subPage":["monitorData_present","monitorData_history"]
            },
            {
                "pageName":"historyEvent",
                "subPage":["historyEvent_detail"]
            },
            {
                "pageName":"manage",
                "subPage":[
                    {
                        "pageName":"manageDevice",
                        "subPage":["manageDevice_detail"]
                    },
                    {
                        "pageName":"manageEvent",
                        "subPage":["manageEvent_detail"]
                    }
                ]
            },
            {
                "pageName":"operate",
                "subPage":["operateDevice_detail"]
            },
            {
                "pageName":"userInfo",
                "subPage":[
                    {
                        "pageName":"alterPassword",
                        "subPage":["alterPassword_error"]
                    }
                ]
            }
          ]
        }
    ]
  },

  { "name": "处理未处理事件",
    "user": ["普通用户"],
    "scene":[
      "用户处理主页面中的未处理事件。",
      "用户可将事件设置为已处理,",
      "事件处理后将不再主页面中显示。",
      "控制程序记录处理人账号和处理时间。",
      "用户可以点击 ``历史事件`` 按钮，查看已处理事件。\n",
      "关于事件的数据类型，可参见 :ref:`事件` "
    ],
    "prerequisites":["概览系统情况"],
    "exception": [
        ["处理失败","服务器未响应","使用文字提示网络错误"],
        ["处理失败","事件已处理","使用文字提示事件已经处理"]
    ],
    "mobileGUI":[
        {
          "pageName":"todo",
          "subPage":[]
        }
    ]
  },

  { "name": "查看监控数据",
    "user": ["普通用户"],
    "scene":[
      "查看传感器数据操作存在两种类型:\n ",
      "1. 查看实时监控数据",
      "2. 查看历史监控数据\n",

      "用户可以选择需要查看的数据类型。",
      "页面拥有返回至主页面的按钮。\n",
      "关于传感器数据的定义，参见 :ref:`传感器数据` "
    ],
    "prerequisites":["概览系统情况"],
    "exception": [],
    "mobileGUI":[
        {
          "pageName":"monitorData",
          "subPage":["monitorData_present","monitorData_history"]
        }
    ]
  },

  { "name": "实时监控数据",
    "user": ["普通用户"],
    "scene":[
      "实时监控数据表现形式是折线图，",
      "用户添加传感器使传感器数据表现在折线图中，",
      "用户移除传感器使传感器数据不在折线图中，",
      "实时监控数据页面拥有返回至[查看监控数据]的按钮。"
    ],
    "prerequisites":["查看监控数据"],
    "exception": [ 
      ["无法连接","服务器未响应","使用文字提示网络错误"]
    ],
    "mobileGUI":[
      {
        "pageName":"monitorData_present",
        "subPage":[]
      }
    ]
  },

  { "name": "历史监控数据",
    "user": ["普通用户"],
    "scene":[
      "历史控数据默认表现形式是表格，",
      "表格的一组数据包含一个时间点所有传感器数据，",
      "用户可以通过操作使历史数据以折线图呈现，",
      "用户可以删除历史监控数据",
      "历史监控数据页面拥有返回至[查看监控数据]的按钮。"
    ],
    "prerequisites":["查看监控数据"],
    "exception": [ 
      ["无法连接","服务器未响应","使用文字提示网络错误"]
    ],
    "mobileGUI":[
      {
        "pageName":"monitorData_history",
        "subPage":[]
      }
    ]
  },

  { "name": "查看历史事件",
    "user": ["普通用户"],
    "scene":[
      "用户位于任何位置, 使用 ``手机`` 或 ``计算机`` 访问控制程序并已经完成登陆进入历史事件页面。",
      "用户希望从历史事件页面获取系统的历史事件，",
      "用户希望获得的历史事件信息包括 \n",
      "1. 时间 ",
      "2. 描述 ",
      "3. 处理用户 \n",
      "用户希望能够删除特定历史事件。",
      "历史事件页面拥有返回至主页面的按钮。"
    ],
    "prerequisites":["概览系统情况"],
    "exception": [ 
      ["获取失败","服务器未响应","使用文字提示网络错误"]
    ],
    "mobileGUI":[
      {
        "pageName":"historyEvent",
        "subPage":["historyEvent_detail"]
      }
    ]
  },

  { "name": "管理设备",
    "user": ["普通用户"],
    "scene":[
      "管理设备包含的操作：\n",
      "1. 管理传感器\n",
      "用户可以在本页面选择操作类型",
      "管理设备页面拥有返回至主页面的按钮。"
    ],
    "prerequisites":["概览系统情况"],
    "exception": [],
    "mobileGUI":[
      {
        "pageName":"manage",
        "subPage":[
          {
            "pageName":"manageDevice",
            "subPage":["manageDevice_detail"]
          }
        ]
      }
    ]
  },

  { "name": "添加传感器",
    "user":["普通用户"],
    "scene":[
      "用户希望向家庭监控系统内添加新的传感器。",
      "用户需要按照用户手册，完成传感器的硬件连接。",
      "系统应该具有自动发现新硬件的能力。",
      "用户完成传感器的硬件连接后，系统应该自动识别新增硬件，并在 ``管理传感器`` 相关的GUI页面中",
      "列出新添加的传感器。"
    ],
    "prerequisites":[],
    "exception":[
      ["新硬件未出现在列表中","系统未能识别硬件","在相关GUI页面中加入反馈功能, 帮助用户及时反馈错误"],
      ["新硬件未出现在列表中","硬件连接错误","在相关GUI页面加入帮助信息,引导用户正确连接"]
    ]
  },

  { "name": "管理传感器",
    "user": ["普通用户"],
    "scene":[
      "页面应该列出当前连接在系统上的传感器，并具有过滤传感器的功能。",
      "用户可以选择某个传感器,对其进行进一步设置。",
      "管理传感器页面拥有返回至 ``管理设备`` 的按钮。"
    ],
    "prerequisites":["管理设备"],
    "exception": [],
    "mobileGUI":[
      {
        "pageName":"manageDevice",
        "subPage":["manageDevice_detail"]
      }
    ]
  },

  { "name": "设置传感器报警逻辑",
    "user": ["普通用户"],
    "scene":[
      "用户进行`` 管理传感器``操作。",
      "用户可以通过GUI, 设置传感器报警的逻辑。",
      "用户可以设置两种报警逻辑，分别是当传感器的数据:\n",
      "1. 发生变化时",
      "2. 位于某个范围时\n",
      "系统自动产生一个警报事件并通知用户。",
      "用户可以结合使用场景，为不同的传感器设置不同的报警逻辑以满足不同场景的需求。",
      "例如，用户可以将一个安装在防盗门上的干簧管传感器设置为 ``数据发生变化``时报警，以实现监测是否有人闯入屋内;",
      "可以将安装在屋内的温度传感器设置为 ``位于某个范围时报警`` , 以实现远程监控屋内的气温是否过高并据此做出是否打开空调的决策。"
    ],
    "prerequisites":["管理传感器"],
    "exception":[],
    "mobileGUI":[]
  },

  { "name": "触发报警事件",
    "user":["被监控物理量"],
    "scene":[
      "由于被监控物理量发生变化,传感器产生了某个事件,且该事件的级别大于报警级别。",
      "服务器向用户推送信息，告知用户报警事件的发生。",
      "服务器通过 ``邮件``(通用平台) 和 ``事件中心``(Android 平台)向用户推送信息。"
    ],
    "prerequisites":[],
    "exception":[],
    "mobileGUI":[]
  },

  { "name": "添加执行器",
    "user":["普通用户"],
    "scene":[
      "用户希望向家庭监控系统内添加新的执行器。",
      "用户需要按照用户手册，完成执行器的硬件连接。",
      "系统应该具有自动发现新执行器的能力。",
      "用户完成执行器的硬件连接后，系统应该自动识别新增硬件，并在 ``操作执行器`` 相关的GUI页面中",
      "列出新添加的执行器。"
    ],
    "prerequisites":[],
    "exception":[
      ["新硬件未出现在列表中","系统未能识别硬件","在相关GUI页面中加入反馈功能, 帮助用户及时反馈错误"],
      ["新硬件未出现在列表中","硬件连接错误","在相关GUI页面加入帮助信息,引导用户正确连接"]
    ]
  },

  { "name": "操作执行器",
    "user": ["普通用户"],
    "scene":[
      "页面应该列出系统中当前可用的执行器,并具有过滤执行器列表的功能.\n",
      "用户可以选择某个特定执行器,",
      "用户选择执行器后，可以对其进行操作。",
      "用户选择相关操作,可远程控制执行器做出相应动作。\n",
      "操作执行器页面拥有返回至[概览系统情况]的按钮。\n"
    ],
    "prerequisites":["管理设备"],
    "exception": [],
    "mobileGUI":[
      {
        "pageName":"operate",
        "subPage":["operateDevice_detail"]
      }
    ]
  },

  { "name": "查看用户信息",
    "user": ["普通用户"],
    "scene":[
      "用户获取并编辑当前系统的用户信息，包括\n",
      "1. 获取并编辑当前账号的用户信息，信息指账号/密码，编辑指修改密码/注销账户",
      "2. 获取当前系统中其他用户的信息，仅指账号",
      "3. 注销登录\n",
      "用户信息页面拥有返回至主页面的按钮"
    ],
    "prerequisites":["概览系统情况"],
    "exception": [ 
      ["获取失败","服务器未响应","使用文字提示网络错误"]
    ],
    "mobileGUI":[
      {
        "pageName":"userInfo",
        "subPage":[
          {
            "pageName":"alterPassword",
            "subPage":["alterPassword_error"]
          }
        ]
      }
    ]
  },

  { "name": "修改账号密码",
    "user": ["普通用户"],
    "scene":[
      "用户希望修改自己账号的密码,",
      "修改密码需要输入现有密码。",
      "修改密码成功则返回登陆界面,",
      "拥有返回至用户信息页面的按钮。"
    ],
    "prerequisites":["查看用户信息"],
    "exception": [ 
      ["修改失败","服务器未响应","使用文字提示网络错误"],
      ["修改失败","密码错误","使用文字提示密码错误"]
    ],
    "mobileGUI":[
      {
        "pageName":"alterPassword",
        "subPage":["alterPassword_error"]
      }
    ]
  }

]
