[
    {
        "tableName":"SensorData",
        "verboseName":"传感器数据",
        "notes":[
            "该数据表用于存储传感器产生的数据。在逻辑上，传感器产生的数据与传感器实体拥有多对一的关系，即一个传感器可以产生若干组数据，故该数据表持有指向传感器数据表的外键。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"dataIndex",
                "type":"Integer",
                "note":"数据表主键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"Sensor",
                "note":"指向传感器数据表的外键"

            },
            {
                "key":"value",
                "type":"Integer",
                "note":"数据"
            },
            {
                "key":"time",
                "type":"Datetime",
                "note":"数据产生的时间"
            }
        ]
    },
    {
        "tableName":"Event",
        "verboseName":"事件",
        "notes":[
            "该数据表用于存储系统运行过程中产生的事件。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"eventId",
                "type":"Integer",
                "note":"传感器事件数据表主键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"Sensor",
                "note":"指向传感器数据表的外键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"Actuator",
                "note":"指向执行器数据表的外键"
            },
            {
                "key":"type",
                "type":"String",
                "note":"事件类型。"
            },
            {
                "key":"level",
                "type":"Integer",
                "note":"事件等级。 数字表示的事件优先级，数字越小表示优先级越高。"
            },
            {
                "key":"time",
                "type":"Datetime",
                "note":"事件产生的时间"
            },
            {
                "key":"verbose",
                "type":"String",
                "note":"事件描述。用自然语言简述事件背景，由DSL确定。"
            }
        ]
    },
    {
        "tableName":"Sensor",
        "verboseName":"传感器",
        "notes":[
            "该数据表用于存储传感器的相关数据，其中每一条记录和一个物理上存在的传感器实体一一对应。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"sensorID",
                "type":"Integer",
                "note":"传感器数据表主键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"House",
                "note":"指向房屋数据表的外键"

            },
            {
                "key":"updateRate",
                "type":"Integer",
                "note":"传感器更新速率,以Hz为单位"
            },
            {
                "key":"EventTriggerDSL",
                "type":"string",
                "note":"简短的DSL程序，描述传感器产生事件的逻辑"
            },
            {
                "key":"PersistenceStrategyDSL",
                "type":"string",
                "note":"简短的DSL程序，描述传感器数据持久化逻辑"
            }
        ]
    },
    {
        "tableName":"House",
        "verboseName":"房屋",
        "notes":[
            "该数据表用于在逻辑上表示由一个嵌入式终端及附加设备所覆盖的物理区域。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"HouseId",
                "type":"Integer",
                "note":"房屋数据表主键"
            },
            {
                "key":"name",
                "type":"String",
                "unique":true,
                "note":"房屋名称"
            },
            {
                "key":"deviceType",
                "type":"DeviceType <: String",
                "note":"描述房屋终端嵌入式设备的类型"
            }
        ]
    },
    {
        "tableName":"Actuator",
        "verboseName":"执行器",
        "notes":[
            "该数据表用于记录执行器实体的相关信息。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"ActuatorId",
                "type":"Integer",
                "note":"执行器数据表主键"
            },
            {
                "fk":true,
                "key":"House",
                "type":"Integer",
                "note":"指向房屋数据表的外键"
            },
            {
                "key":"type",
                "type":"ActuatorType <: String",
                "unique":true,
                "note":"执行器类型"
            },
            {
                "key":"value",
                "type":"String",
                "note":"执行器当前状态"
            },
            {
                "key":"EventTriggerDSL",
                "type":"String",
                "note":"简短的DSL程序，描述执行器产生事件的逻辑"
            }
        ]
    },
    {
        "tableName":"User",
        "verboseName":"用户",
        "notes":[
            "记录系统用户及相关信息。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"UID",
                "type":"Integer",
                "note":"用户主键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"House",
                "note":"指向房屋数据表的外键"
            },
            {
                "fk":true,
                "type":"Integer",
                "key":"Permission",
                "note":"指向房屋数据表的外键"
            },
            {
                "key":"username",
                "type":"String",
                "note":"用户名"
            },
            {
                "key":"password",
                "type":"String",
                "note":"用户密码哈希值"
            }
        ]
    },
    {
        "tableName":"Permission",
        "verboseName":"权限",
        "notes":[
            "存储预定义的值，表示用户的操作权限。"
        ],
        "fields":[
            {
                "pk":true,
                "key":"permissionID",
                "type":"Integer",
                "note":"权限数据表主键"
            },
            {
                "key":"code ",
                "type":"String",
                "note":"权限识别码"
            },
            {
                "key":"verbose",
                "type":"String",
                "note":"权限描述"
            }
        ]
    }
]